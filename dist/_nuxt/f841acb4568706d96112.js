(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{350:function(e,t,r){"use strict";var n={name:"FormBreadcrumb",props:{currentPage:{type:String,default:""}}},a=r(10),i=Object(a.a)(n,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/admin"}}},[e._v("\n    "+e._s(e.$t("admin"))+"\n  ")]),e._v(" "),r("el-breadcrumb-item",[e._v("\n    "+e._s(e.$t(e.currentPage))+"\n  ")])],1)},[],!1,null,null,null);i.options.__file="breadcrumb.vue";t.a=i.exports},354:function(e,t,r){"use strict";r(15);var n=r(4),a=r.n(n),i={ARS:"Argentine Peso",BZD:"Belize Dollar",BOB:"Bolivia Boliviano",BRL:"Brazilian Real",CAD:"Canadian Dollar",CLP:"Chilean Peso",COP:"Colombian Peso",CRC:"Costa Rican Colon",DOP:"Dominican Peso",ECS:"Ecuador Sucre",SVC:"El Salvador Colon",QTQ:"Guatemalan Quetzal",HNL:"Honduran Lempira",JMD:"Jamaican Dollar",MXN:"Mexican Nuevo Peso",PYG:"Paraguay Guarani",PEN:"Peruvian Nuevo Sol",TTD:"Trinidad and Tobago Dollar",UYU:"Uruguayan Peso",USD:"US Dollar"},o={name:"ProductForm",props:{addPrice:{type:Function,default:function(){return!1}},collections:{type:Object,default:function(){return{}}},frm:{type:Object,default:function(){return{}}},frmPrice:{type:Object,default:function(){return{}}},loading:{type:Boolean,default:!1},rules:{type:Object,default:function(){return{}}},handleImage:{type:Function,default:function(){return!1}},onSubmit:{type:Function,default:function(){return!1}},update:{type:Function,default:function(){return!1}},updatePrice:{type:Function,default:function(){return!1}}},data:function(){return{currencyCodes:i}},methods:{validate:function(e){return this.$refs.form.validate(e)}},computed:{prices:{get:function(){var e=this;return this.frm.prices.map(function(t){return a()({},t,{supermarket:e.collections.supermarkets.filter(function(e){return e._id===t.supermarket})[0].name})})}}}},l=r(10),c=Object(l.a)(o,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form-wrapper"},[r("el-form",{ref:"form",staticClass:"form-elements",attrs:{rules:e.rules,model:e.frm,"label-width":"80px",size:"small"}},[r("el-row",[r("el-col",{staticStyle:{padding:"1rem"},attrs:{span:12}},[r("h4",{staticStyle:{margin:"1rem 0rem"}},[e._v("\n          General Info\n        ")]),e._v(" "),r("el-form-item",{attrs:{label:"Nombre",prop:"name"}},[r("el-input",{attrs:{value:e.frm.name},on:{input:function(t){e.update("name",t)}}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Descripcion",prop:"description"}},[r("el-input",{attrs:{value:e.frm.description},on:{input:function(t){e.update("description",t)}}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Unidades",prop:"unit"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",value:e.frm.unit&&e.collections.units.filter(function(t){return t._id==e.frm.unit})[0].name,prop:"unit"},on:{change:function(t){e.update("unit",t)}}},e._l(e.collections.units,function(t){return r("el-option",{key:t._id,attrs:{value:t._id}},[e._v("\n              "+e._s(t.name)+"\n            ")])}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"Categoria",prop:"category"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",value:e.frm.category&&e.collections.categories.filter(function(t){return t._id==e.frm.category})[0].name,prop:"category"},on:{change:function(t){e.update("category",t)}}},e._l(e.collections.categories,function(t){return r("el-option",{key:t._id,attrs:{value:t._id}},[e._v("\n              "+e._s(t.name)+"\n            ")])}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"Marca",prop:"brand"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",value:e.frm.brand&&e.collections.brands.filter(function(t){return t._id==e.frm.brand})[0].name,prop:"brand"},on:{change:function(t){e.update("brand",t)}}},e._l(e.collections.brands,function(t){return r("el-option",{key:t._id,attrs:{value:t._id}},[e._v("\n              "+e._s(t.name)+"\n            ")])}),1)],1),e._v(" "),r("el-form-item",[r("el-upload",{ref:"upload",attrs:{accept:"image/*",action:"/","list-type":"picture","on-success":e.handleImage,limit:1}},[r("el-button",{attrs:{size:"small",type:"primary"}},[e._v("\n              Upload Image\n            ")]),e._v(" "),r("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("\n              jpg/png files with a size less than 500kb\n            ")])],1)],1)],1),e._v(" "),r("el-col",{staticStyle:{padding:"1rem"},attrs:{span:12}},[r("h4",{staticStyle:{margin:"1rem 0rem"}},[e._v("\n          Price Info\n        ")]),e._v(" "),r("el-form-item",{attrs:{prop:"supermaket","label-width":"0"}},[r("el-select",{staticStyle:{display:"block"},attrs:{filterable:"",value:e.frmPrice.supermarket&&e.collections.supermarkets.filter(function(t){return t.id==e.frmPrice.supermarket})[0].name,prop:"supermarket",placeholder:"Supermercado"},on:{change:function(t){e.updatePrice("supermarket",t)}}},e._l(e.collections.supermarkets,function(t){return r("el-option",{key:t.id,attrs:{value:t.id}},[e._v("\n              "+e._s(t.name)+"\n            ")])}),1)],1),e._v(" "),r("el-form-item",{attrs:{"label-width":"0"}},[r("el-col",{attrs:{span:10}},[r("el-select",{staticStyle:{display:"block"},attrs:{value:e.currencyCodes[e.frmPrice.currency],placeholder:"Moneda"},on:{change:function(t){e.updatePrice("currency",t)}}},e._l(Object.keys(e.currencyCodes),function(t){return r("el-option",{key:t,attrs:{value:t}},[e._v("\n                "+e._s(e.currencyCodes[t])+"\n              ")])}),1)],1),e._v(" "),r("el-col",{staticStyle:{"padding-left":"1rem"},attrs:{span:10}},[r("el-input-number",{attrs:{size:"small",precision:2,step:.1,max:1e6,value:e.frmPrice.price},on:{change:function(t){e.updatePrice("price",t)}}})],1),e._v(" "),r("el-col",{attrs:{span:4}},[r("el-button",{attrs:{type:"success",icon:"el-icon-plus",size:"mini"},on:{click:e.addPrice}})],1)],1),e._v(" "),r("h4",{staticStyle:{margin:"1rem 0rem"}},[e._v("\n          Prices\n        ")]),e._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.prices}},[r("el-table-column",{attrs:{prop:"supermarket",label:"Supermaket"}}),e._v(" "),r("el-table-column",{attrs:{prop:"currency",label:"Currency"}}),e._v(" "),r("el-table-column",{attrs:{prop:"price",label:"Price"}})],1)],1)],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.onSubmit}},[e._v("\n        "+e._s(e.$t("submit"))+"\n      ")])],1)],1)],1)},[],!1,null,null,null);c.options.__file="product.vue";t.a=c.exports},377:function(e,t,r){"use strict";r.r(t);var n=r(4),a=r.n(n),i=(r(7),r(1)),o=r.n(i),l=r(350),c=r(354),u=r(25),s={components:{FormBreadcrumb:l.a,ProductForm:c.a},asyncData:function(){var e=o()(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.store,n=t.params,e.next=3,r.dispatch("product/fetchRecord",n.id);case 3:return e.next=5,r.dispatch("brand/fetch");case 5:return e.next=7,r.dispatch("category/fetch");case 7:return e.next=9,r.dispatch("unit/fetch");case 9:return e.abrupt("return",{brands:r.state.brand.collection,categories:r.state.category.collection,units:r.state.unit.collection});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),data:function(){return{rules:{name:{required:!0,message:this.$t("required")}}}},computed:a()({},Object(u.e)({state:function(e){return e.product}})),methods:{onSubmit:function(){var e=this;this.$refs.productForm.validate(function(t){return!!t&&e.$store.dispatch("product/submit")})},update:function(e,t){this.$store.commit("product/update",{field:e,value:t})},handleImage:function(e,t,r){this.$store.commit("product/update",{field:"images",value:[t.raw]})}}},p=r(10),d=Object(p.a)(s,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form-container"},[r("form-breadcrumb",{attrs:{"current-page":"product"}}),e._v(" "),r("h3",{staticClass:"form-title"},[e._v(e._s(e.$t("new"))+" "+e._s(e.$t("product")))]),e._v(" "),r("product-form",{ref:"productForm",attrs:{brands:e.brands,categories:e.categories,frm:e.state.frm,loading:e.state.loading,rules:e.rules,"handle-image":e.handleImage,"on-submit":e.onSubmit,units:e.units,update:e.update}})],1)},[],!1,null,null,null);d.options.__file="_id.vue";t.default=d.exports}}]);